<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Spotidoro</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <link href="style.css" rel="stylesheet">
    </head>

    <body onload="onPageLoad()">
        <div class="container">

            <div class="timer">
                <div class="button-group mode-buttons" id="js-mode-buttons">
                    <button
                        data-mode="pomodoro"
                        class="button active mode-button"
                        id="js-pomodoro"
                    >
                    Focus
                    </button>
                    <button
                        data-mode="shortBreak"
                        class="button mode-button"
                        id="js-short-break"
                    >
                    Break
                    </button>
                </div>
                <div class="clock" id="js-clock">
                    <span id="js-minutes">25</span>
                    <span class="separator">:</span>
                    <span id="js-seconds">00</span>
                </div>

                <button class="main-button" data-action="start" id="js-btn">
                Start timer
                </button>
            </div>

            <div id="tokenSection" class="row">
                <div class="col">
                    <h2>Spotidoro</h2>
                    <p class="welcomeText">This app combines a Pomodoro timer with Spotify. It plays music from a Spotify 
                        playlist when you are focusing and pauses the music when it's time for a break.
                    </p>
                    <p class="welcomeText">To use this app you need a Spotify client ID and client secret. You get these by 
                        creating an app in the Spotify developers dashboard here 
                        <a href="https://developer.spotify.com/dashboard/applications" target="_blank">https://developer.spotify.com/dashboard/applications</a> 
                        and add this URI: https://tr0e1s.github.io/Spotidoro/ in the "Redirect URIs" settings field.
                    </p>                    
                </div>
                <div class="col">
                    <div class="mb-3">
                        <label for="clientId" class="form-label">Client ID</label>
                        <input type="text" class="form-control" id="clientId" placeholder="">
                    </div>
                    <div class="mb-3">
                        <label for="clientSecret" class="form-label">Client Secret</label>
                        <input type="text" class="form-control" id="clientSecret" placeholder="">
                    </div>
                    <input class="btn btn-dark btn-sm" type="button" onclick="requestAuthorization()" value="Request Authorization"><br/>
                </div>
            </div>

            <div id="deviceSection" class="row">
                <div class="col">

                    <div class="mb-3">
                        <label for="devices" class="form-label">Devices</label>
                        <select id="devices" class="form-control">
                        </select>
                        <input class="btn btn-dark btn-sm mt-3" type="button" onclick="refreshDevices()" value="Refresh Devices">
                        <input type="button" class="btn btn-secondary btn-sm  mt-3" onclick="transfer()" value="Transfer Playback">
                    </div>

                    <div class="mb-3">
                        <label for="playlists" class="form-label">Playlists</label>
                        <select id="playlists" class="form-control">
                        </select>
                        <input class="btn btn-dark btn-sm mt-3" type="button" onclick="refreshPlaylists()" value="Refresh Playlists">
                        </div>


                    </div>

                    <div class="row hidden">
                        <div class="col">
                            <input type="button" class="btn btn-dark" onclick="previous()" value="Prev">
                            <input type="button" class="btn btn-dark" onclick="play()" value="Play">
                            <input type="button" class="btn btn-dark" onclick="shuffle()" value="Shuffle">
                            <input type="button" class="btn btn-dark" onclick="pause()" value="Pause">
                            <input type="button" class="btn btn-dark" onclick="next()" value="Next">
                        </div>
                    </div>


                    <div class="row mt-3 hidden">
                        <div class="col">
                            <h3> Currently Playing</h3>
                            <input type="button" class="btn btn-primary btn-sm mt-3" onclick="currentlyPlaying()" value="Refresh Currently Playing">
                            <div>
                                <img id="albumImage" src="">
                                <div id="trackTitle"></div>
                                <div id="trackArtist"></div>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </div>

        <script src="app.js"></script>

    </body>

</html>